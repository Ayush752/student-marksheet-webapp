<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Cosmic Engineer</title>
<link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@400;700&display=swap" rel="stylesheet">

<style>
body{
  margin:0;
  overflow:hidden;
  background:black;
  font-family:'Orbitron',sans-serif;
  color:white;
}

/* HUD */
.hud{
  position:fixed;
  top:20px;
  left:20px;
  z-index:100;
  color:#00f5ff;
  text-shadow:0 0 10px #00f5ff;
}

/* Chat Panel */
.chat{
  position:fixed;
  bottom:20px;
  right:20px;
  width:300px;
  background:rgba(0,0,0,0.7);
  border:1px solid #00f5ff;
  padding:15px;
  border-radius:10px;
  backdrop-filter:blur(10px);
}
.chat input{
  width:100%;
  padding:8px;
  margin-top:10px;
  background:black;
  border:1px solid #00f5ff;
  color:white;
}
</style>
</head>
<body>

<div class="hud">
  üåå COSMIC ENGINEER MODE <br>
  Use WASD to Move
</div>

<div class="chat">
  <strong>AI Console</strong>
  <div id="chatlog">Welcome Engineer üë®‚ÄçüöÄ</div>
  <input type="text" placeholder="Ask AI..." onkeydown="if(event.key==='Enter') sendMessage(this.value)">
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/3.12.2/gsap.min.js"></script>

<script>
/* THREE JS SCENE */
const scene = new THREE.Scene();
const camera = new THREE.PerspectiveCamera(75, window.innerWidth/window.innerHeight, 0.1, 1000);
const renderer = new THREE.WebGLRenderer({antialias:true});
renderer.setSize(window.innerWidth, window.innerHeight);
document.body.appendChild(renderer.domElement);

/* STARFIELD */
const starsGeometry = new THREE.BufferGeometry();
const starCount = 5000;
const positions = new Float32Array(starCount * 3);

for(let i=0;i<starCount*3;i++){
  positions[i] = (Math.random()-0.5) * 2000;
}

starsGeometry.setAttribute('position', new THREE.BufferAttribute(positions,3));
const starsMaterial = new THREE.PointsMaterial({color:0x00f5ff});
const starField = new THREE.Points(starsGeometry, starsMaterial);
scene.add(starField);

/* PLANET */
const planetGeometry = new THREE.SphereGeometry(5,32,32);
const planetMaterial = new THREE.MeshStandardMaterial({
  color:0x2222ff,
  emissive:0x00f5ff,
  emissiveIntensity:0.5
});
const planet = new THREE.Mesh(planetGeometry, planetMaterial);
planet.position.z = -30;
scene.add(planet);

/* LIGHT */
const light = new THREE.PointLight(0xffffff,1);
light.position.set(10,10,10);
scene.add(light);

camera.position.z = 5;

/* MOVEMENT */
const keys = {};
document.addEventListener("keydown", e=>keys[e.key.toLowerCase()]=true);
document.addEventListener("keyup", e=>keys[e.key.toLowerCase()]=false);

function moveCamera(){
  const speed = 0.2;
  if(keys["w"]) camera.position.z -= speed;
  if(keys["s"]) camera.position.z += speed;
  if(keys["a"]) camera.position.x -= speed;
  if(keys["d"]) camera.position.x += speed;
}

/* ANIMATION LOOP */
function animate(){
  requestAnimationFrame(animate);
  moveCamera();
  planet.rotation.y += 0.01;
  starField.rotation.y += 0.0005;
  renderer.render(scene, camera);
}
animate();

/* GSAP INTRO */
gsap.from(camera.position,{z:50,duration:3,ease:"power2.out"});

/* CHAT SIMULATION */
function sendMessage(msg){
  if(!msg) return;
  const log = document.getElementById("chatlog");
  log.innerHTML += "<br><span style='color:#00ff88'>You:</span> "+msg;
  setTimeout(()=>{
    log.innerHTML += "<br><span style='color:#ff00ff'>AI:</span> System ready for cosmic expansion.";
  },1000);
}

/* RESPONSIVE */
window.addEventListener("resize",()=>{
  camera.aspect = window.innerWidth/window.innerHeight;
  camera.updateProjectionMatrix();
  renderer.setSize(window.innerWidth, window.innerHeight);
});
</script>

</body>
</html>
